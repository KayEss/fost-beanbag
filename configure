#!/usr/bin/env bash
cd `dirname $0`

if test -e src/fost-web
then {
    git submodule sync
    git submodule update
}
else {
    git submodule sync
    git submodule update
    cd src/fost-web
    git checkout master
    git flow init -d
    cd ../..
}
fi

svn co http://svn.felspar.com/external/Boost \
    src/Boost
src/Boost/install `lsb_release -cs`
cat > src/boost-version.jam << END
BUILD_DIRECTORY = "../../tmp/oneiric" ;
BOOST_VERSION_MAJOR = "46" ;
END

svn co https://svn.felspar.com/external/crypto++ \
    src/crypto++
svn co https://svn.felspar.com/external/OpenSSL \
    src/OpenSSL

svn co http://svn.felspar.com/public/fost-base/stable/fost-base \
    src/fost-base
svn co http://svn.felspar.com/public/fost-internet/stable/fost-internet \
    src/fost-internet
svn co http://svn.felspar.com/public/fost-orm/stable/fost-orm \
    src/fost-orm
